{"ast":null,"code":"import _toConsumableArray from\"D:/react cards/movie/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:/react cards/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/react cards/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/react cards/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';// import './App.css';\nimport'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import Movielist from'./components/movielist.js';import Heading from'./components/Heading.js';import Search from'./components/Search.js';import AddFavourites from'./components/Addfavourites';import Removefav from'./components/removefav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),favourites=_useState6[0],setFavourites=_useState6[1];var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=d8a88e\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);var addFavouriteMovie=function addFavouriteMovie(movie){if(!favourites.includes(movie)){var newFavouriteList=[].concat(_toConsumableArray(favourites),[movie]);setFavourites(newFavouriteList);}// const newFavouriteList = [...favourites, movie];\n// setFavourites(newFavouriteList); \n};var remove=function remove(movie){var newFavouriteList=favourites.filter(function(favourite){return favourite.imdbID!==movie.imdbID;});setFavourites(newFavouriteList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-centre mt-4 mb-4\",children:[/*#__PURE__*/_jsx(Heading,{heading:\"Movies\"}),/*#__PURE__*/_jsx(Search,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{border:\"200px\"},children:/*#__PURE__*/_jsx(Movielist,{movies:movies,handleFavouriteClick:addFavouriteMovie,favouriteComponent:AddFavourites})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex align-items-centre mt-4 mb-4\",children:/*#__PURE__*/_jsx(Heading,{heading:\"Favourites\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{border:\"200px\"},children:/*#__PURE__*/_jsx(Movielist,{movies:favourites,handleFavouriteClick:remove,favouriteComponent:Removefav})})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Movielist","Heading","Search","AddFavourites","Removefav","App","movies","setMovies","searchValue","setSearchValue","favourites","setFavourites","getMovieRequest","url","fetch","response","json","responseJson","addFavouriteMovie","movie","includes","newFavouriteList","remove","filter","favourite","imdbID","border"],"sources":["D:/react cards/movie/src/App.js"],"sourcesContent":["\n\n\nimport React,{useEffect, useState} from 'react';\n// import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport Movielist from './components/movielist.js';\nimport Heading from './components/Heading.js';\nimport Search from './components/Search.js';\nimport AddFavourites from './components/Addfavourites';\nimport Removefav from './components/removefav';\n\nconst App = () =>{\n  const [movies,setMovies] = useState([]);\n  const [searchValue,setSearchValue] = useState('');\n  const [favourites,setFavourites] = useState([]);\n\n  const getMovieRequest = async(searchValue)=>{\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=d8a88e`;\n\n    const response = await fetch(url);\n    const responseJson = await response.json(); \n\n    if(responseJson.Search)\n    {\n      setMovies(responseJson.Search);\n    }\n    \n    };\n\n    useEffect(()=>{\n      getMovieRequest(searchValue);\n    }, [searchValue]);\n\n   \n    const addFavouriteMovie = (movie) =>{\n      if(!favourites.includes(movie))\n      {\n        const newFavouriteList = [...favourites, movie];\n        setFavourites(newFavouriteList); \n      }\n      // const newFavouriteList = [...favourites, movie];\n      // setFavourites(newFavouriteList); \n    }\n\n    const remove = (movie) =>{\n      const newFavouriteList = favourites.filter((favourite) =>\n        favourite.imdbID !== movie.imdbID\n      );\n      setFavourites(newFavouriteList);\n    };\n\n  return (\n    <div className='container-fluid movie-app'>\n          <div className='row d-flex align-items-centre mt-4 mb-4'>\n              <Heading heading='Movies'/>\n              <Search searchValue={searchValue} setSearchValue={setSearchValue} />\n          </div>\n          <div className='row' style={{border:\"200px\"}}>\n              <Movielist movies = {movies} handleFavouriteClick={addFavouriteMovie} favouriteComponent={AddFavourites} />\n          </div>\n\n          <div className='row d-flex align-items-centre mt-4 mb-4'>\n              <Heading heading='Favourites'/>\n              \n          </div>\n          <div className='row' style={{border:\"200px\"}}>\n              <Movielist movies = {favourites} handleFavouriteClick={remove} favouriteComponent={Removefav} />\n          </div>\n          \n    </div>\n  )\n}\n\nexport default App;"],"mappings":"gcAGA,MAAOA,MAAP,EAAcC,SAAd,CAAyBC,QAAzB,KAAwC,OAAxC,CACA;AACA,MAAO,sCAAP,CACA,MAAO,WAAP,CACA,MAAOC,UAAP,KAAsB,2BAAtB,CACA,MAAOC,QAAP,KAAoB,yBAApB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,MAAOC,cAAP,KAA0B,4BAA1B,CACA,MAAOC,UAAP,KAAsB,wBAAtB,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAK,CACf,cAA2BN,QAAQ,CAAC,EAAD,CAAnC,wCAAOO,MAAP,eAAcC,SAAd,eACA,eAAqCR,QAAQ,CAAC,EAAD,CAA7C,yCAAOS,WAAP,eAAmBC,cAAnB,eACA,eAAmCV,QAAQ,CAAC,EAAD,CAA3C,yCAAOW,UAAP,eAAkBC,aAAlB,eAEA,GAAMC,gBAAe,4FAAG,iBAAMJ,WAAN,kJAChBK,GADgB,qCACmBL,WADnB,yCAGCM,MAAK,CAACD,GAAD,CAHN,QAGhBE,QAHgB,qCAIKA,SAAQ,CAACC,IAAT,EAJL,QAIhBC,YAJgB,eAMtB,GAAGA,YAAY,CAACf,MAAhB,CACA,CACEK,SAAS,CAACU,YAAY,CAACf,MAAd,CAAT,CACD,CATqB,sDAAH,kBAAfU,gBAAe,4CAArB,CAaEd,SAAS,CAAC,UAAI,CACZc,eAAe,CAACJ,WAAD,CAAf,CACD,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAKA,GAAMU,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,KAAD,CAAU,CAClC,GAAG,CAACT,UAAU,CAACU,QAAX,CAAoBD,KAApB,CAAJ,CACA,CACE,GAAME,iBAAgB,8BAAOX,UAAP,GAAmBS,KAAnB,EAAtB,CACAR,aAAa,CAACU,gBAAD,CAAb,CACD,CACD;AACA;AACD,CARD,CAUA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACH,KAAD,CAAU,CACvB,GAAME,iBAAgB,CAAGX,UAAU,CAACa,MAAX,CAAkB,SAACC,SAAD,QACzCA,UAAS,CAACC,MAAV,GAAqBN,KAAK,CAACM,MADc,EAAlB,CAAzB,CAGAd,aAAa,CAACU,gBAAD,CAAb,CACD,CALD,CAOF,mBACE,aAAK,SAAS,CAAC,2BAAf,wBACM,aAAK,SAAS,CAAC,yCAAf,wBACI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,EADJ,cAEI,KAAC,MAAD,EAAQ,WAAW,CAAEb,WAArB,CAAkC,cAAc,CAAEC,cAAlD,EAFJ,GADN,cAKM,YAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAACiB,MAAM,CAAC,OAAR,CAA5B,uBACI,KAAC,SAAD,EAAW,MAAM,CAAIpB,MAArB,CAA6B,oBAAoB,CAAEY,iBAAnD,CAAsE,kBAAkB,CAAEf,aAA1F,EADJ,EALN,cASM,YAAK,SAAS,CAAC,yCAAf,uBACI,KAAC,OAAD,EAAS,OAAO,CAAC,YAAjB,EADJ,EATN,cAaM,YAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAACuB,MAAM,CAAC,OAAR,CAA5B,uBACI,KAAC,SAAD,EAAW,MAAM,CAAIhB,UAArB,CAAiC,oBAAoB,CAAEY,MAAvD,CAA+D,kBAAkB,CAAElB,SAAnF,EADJ,EAbN,GADF,CAoBD,CA5DD,CA8DA,cAAeC,IAAf"},"metadata":{},"sourceType":"module"}